

const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GEMINI_API;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
   history: [
    {
      role: "user",
      parts: [
        {text: "Generate Travel Plan for Location: New York, for 4 day and 3 night for A couple with a Luxury budget with a Flight details, Flight Price with Booking url, Hotel options list with Hotel Name, Hotel address, Price, hotel image url, geo coordinates, ratings, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for 4 days and 3 night with each day plan with best time to visit in JSON"},
      ],
    },
    {
      role: "model",
      parts: [
        {text: "```json\n{\n  \"flightDetails\": {\n    \"airline\": \"Delta\",\n    \"flightNumber\": \"DL1234\",\n    \"departureAirport\": \"SFO\",\n    \"arrivalAirport\": \"JFK\",\n    \"departureDate\": \"2024-03-15\",\n    \"arrivalDate\": \"2024-03-15\",\n    \"departureTime\": \"10:00 AM\",\n    \"arrivalTime\": \"1:00 PM\",\n    \"price\": 500,\n    \"bookingUrl\": \"https://www.delta.com/booking\"\n  },\n  \"hotelOptions\": [\n    {\n      \"name\": \"The Peninsula New York\",\n      \"address\": \"700 Fifth Avenue, New York, NY 10019\",\n      \"price\": 1500,\n      \"imageUrl\": \"https://www.thepeninsula.com/newyork/en/images/hotel-exterior/hotel-exterior-hero.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7580,\n        \"longitude\": -73.9785\n      },\n      \"ratings\": 4.5,\n      \"description\": \"A luxurious hotel in the heart of Manhattan, offering stunning views and exceptional service.\"\n    },\n    {\n      \"name\": \"The Ritz-Carlton New York, Central Park\",\n      \"address\": \"50 Central Park South, New York, NY 10019\",\n      \"price\": 1200,\n      \"imageUrl\": \"https://www.ritzcarlton.com/en/hotels/new-york/central-park/images/hero/hotel-exterior-hero.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7649,\n        \"longitude\": -73.9772\n      },\n      \"ratings\": 4.7,\n      \"description\": \"A sophisticated hotel with breathtaking views of Central Park, offering luxurious accommodations and fine dining.\"\n    },\n    {\n      \"name\": \"The St. Regis New York\",\n      \"address\": \"2 East 55th Street, New York, NY 10022\",\n      \"price\": 1000,\n      \"imageUrl\": \"https://www.marriott.com/static/media/global-hotels/st-regis/new-york/hotel-exterior-hero.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7588,\n        \"longitude\": -73.9695\n      },\n      \"ratings\": 4.3,\n      \"description\": \"A legendary hotel known for its impeccable service and elegant accommodations, located near Rockefeller Center.\"\n    }\n  ],\n  \"dailyPlan\": [\n    {\n      \"day\": 1,\n      \"time\": \"Morning (10:00 AM - 12:00 PM)\",\n      \"placeName\": \"Top of the Rock\",\n      \"placeDetails\": \"Enjoy breathtaking views of the city from the observation deck at Rockefeller Center.\",\n      \"placeImageUrl\": \"https://www.rockefellercenter.com/sites/default/files/styles/top_of_rock_hero/public/2019-09/Top-of-the-Rock-Hero-Image.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7581,\n        \"longitude\": -73.9784\n      },\n      \"ticketPricing\": 39,\n      \"timeToTravel\": 2\n    },\n    {\n      \"day\": 1,\n      \"time\": \"Afternoon (1:00 PM - 3:00 PM)\",\n      \"placeName\": \"St. Patrick's Cathedral\",\n      \"placeDetails\": \"Visit this magnificent Gothic cathedral, a prominent landmark in Midtown Manhattan.\",\n      \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/St._Patrick%27s_Cathedral%2C_New_York_City%2C_NY%2C_USA_-_exterior_view_%281%29.jpg/1280px-St._Patrick%27s_Cathedral%2C_New_York_City%2C_NY%2C_USA_-_exterior_view_%281%29.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7577,\n        \"longitude\": -73.9795\n      },\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": 1\n    },\n    {\n      \"day\": 1,\n      \"time\": \"Evening (7:00 PM - 10:00 PM)\",\n      \"placeName\": \"Dinner at Le Bernardin\",\n      \"placeDetails\": \"Indulge in a world-class seafood dining experience at this Michelin-starred restaurant.\",\n      \"placeImageUrl\": \"https://www.le-bernardin.com/images/default-source/home-page/header-images/hero-image-le-bernardin-0001.jpg?sfvrsn=21\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7595,\n        \"longitude\": -73.9677\n      },\n      \"ticketPricing\": \"Reservation Required\",\n      \"timeToTravel\": 3\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n      \"placeName\": \"Central Park\",\n      \"placeDetails\": \"Explore this iconic urban oasis, enjoying a leisurely stroll or a picnic lunch.\",\n      \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Central_Park%2C_New_York_City.jpg/1280px-Central_Park%2C_New_York_City.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7829,\n        \"longitude\": -73.9654\n      },\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": 3\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n      \"placeName\": \"The Metropolitan Museum of Art\",\n      \"placeDetails\": \"Immerse yourselves in art history and culture at one of the world's largest and most comprehensive art museums.\",\n      \"placeImageUrl\": \"https://www.metmuseum.org/sites/default/files/styles/met-hero-image/public/2022-11/The%20Met%20Exterior%20%2811%29.jpg?itok=hO3eDq4D\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7794,\n        \"longitude\": -73.9632\n      },\n      \"ticketPricing\": 25,\n      \"timeToTravel\": 3\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Evening (7:00 PM - 10:00 PM)\",\n      \"placeName\": \"Dinner at The NoMad Restaurant\",\n      \"placeDetails\": \"Enjoy a sophisticated dining experience in a chic and stylish setting.\",\n      \"placeImageUrl\": \"https://www.thenomadhotel.com/wp-content/uploads/2020/01/NoMad-Restaurant_HERO.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7414,\n        \"longitude\": -73.9905\n      },\n      \"ticketPricing\": \"Reservation Required\",\n      \"timeToTravel\": 3\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Morning (10:00 AM - 12:00 PM)\",\n      \"placeName\": \"The High Line\",\n      \"placeDetails\": \"Take a scenic stroll along this elevated park, offering unique views of the city.\",\n      \"placeImageUrl\": \"https://www.thehighline.org/sites/default/files/styles/hero_image/public/hero-images/high-line-at-sunset-16x9-credit-adam-rapoport.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7536,\n        \"longitude\": -74.0038\n      },\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": 2\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Afternoon (1:00 PM - 3:00 PM)\",\n      \"placeName\": \"Chelsea Market\",\n      \"placeDetails\": \"Explore this vibrant food hall, offering a wide variety of culinary delights from around the world.\",\n      \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Chelsea_Market_Interior_2018.jpg/1280px-Chelsea_Market_Interior_2018.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7415,\n        \"longitude\": -74.0034\n      },\n      \"ticketPricing\": \"Free\",\n      \"timeToTravel\": 2\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Evening (7:00 PM - 10:00 PM)\",\n      \"placeName\": \"Dinner at The Clocktower\",\n      \"placeDetails\": \"Enjoy a modern American dining experience with a focus on seasonal ingredients.\",\n      \"placeImageUrl\": \"https://www.theclocktowernyc.com/images/hero/header.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7408,\n        \"longitude\": -73.9931\n      },\n      \"ticketPricing\": \"Reservation Required\",\n      \"timeToTravel\": 3\n    },\n    {\n      \"day\": 4,\n      \"time\": \"Morning (10:00 AM - 12:00 PM)\",\n      \"placeName\": \"The Empire State Building\",\n      \"placeDetails\": \"Ascend to the top of this iconic skyscraper for panoramic views of the city.\",\n      \"placeImageUrl\": \"https://www.esbnyc.com/sites/default/files/styles/hero_image/public/2023-07/ESB-hero_0.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7484,\n        \"longitude\": -73.9857\n      },\n      \"ticketPricing\": 42,\n      \"timeToTravel\": 2\n    },\n    {\n      \"day\": 4,\n      \"time\": \"Afternoon (1:00 PM - 3:00 PM)\",\n      \"placeName\": \"The Museum of Modern Art (MoMA)\",\n      \"placeDetails\": \"Explore a world-renowned collection of modern and contemporary art.\",\n      \"placeImageUrl\": \"https://www.moma.org/sites/default/files/styles/hero_image/public/2020-07/moma_exterior_0.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7614,\n        \"longitude\": -73.9772\n      },\n      \"ticketPricing\": 25,\n      \"timeToTravel\": 3\n    },\n    {\n      \"day\": 4,\n      \"time\": \"Evening (7:00 PM - 10:00 PM)\",\n      \"placeName\": \"Dinner at The Polo Bar\",\n      \"placeDetails\": \"Enjoy a classic American steakhouse experience in a stylish and elegant setting.\",\n      \"placeImageUrl\": \"https://www.thepolobar.com/images/hero/the-polo-bar-hero-shot.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 40.7554,\n        \"longitude\": -73.9768\n      },\n      \"ticketPricing\": \"Reservation Required\",\n      \"timeToTravel\": 3\n    }\n  ]\n}\n```\n\n**Explanation:**\n\nThis JSON object represents a 4-day, 3-night luxury travel plan for a couple in New York City. It provides detailed information about the flight, hotel options, daily itinerary, and places to visit. \n\n**Key Elements:**\n\n* **flightDetails:** Provides information about the flight, including airline, flight number, departure and arrival airports, dates, times, and price. It also includes a booking URL for the flight.\n* **hotelOptions:** Lists three luxurious hotel options in New York City, with information about their names, addresses, prices, image URLs, geo coordinates, ratings, and descriptions. \n* **dailyPlan:** This is the heart of the travel plan, detailing the itinerary for each day of the trip.  Each day is broken down into time slots (Morning, Afternoon, Evening) with the following information for each place:\n    * **placeName:** The name of the place to visit.\n    * **placeDetails:** A brief description of the place.\n    * **placeImageUrl:** A URL to an image of the place.\n    * **geoCoordinates:** The latitude and longitude of the place.\n    * **ticketPricing:** The cost of entry or tickets (if applicable).\n    * **timeToTravel:** An estimated time to spend at the location.\n\n**Using the JSON:**\n\nYou can use this JSON object to create a detailed travel itinerary for your trip. You can:\n\n* **Customize the plan:** Modify the itinerary based on your interests and preferences.\n* **Book flights and hotels:** Use the provided URLs to book your flights and hotels.\n* **Plan your daily schedule:** Use the time slots and estimated travel times to plan your days effectively.\n* **Explore the places:** Use the place details, images, and geo coordinates to learn more about the places you're visiting.\n\nRemember, this is a sample plan and can be adjusted based on your budget and interests.  You can also find additional information and recommendations online or through travel guides. Enjoy your trip! \n"},
      ],
    },
  ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());

